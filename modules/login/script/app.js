var App={ViewModels:{},Models:{},DataSource:{}},EMAIL_RGEX=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,NOT_VALID_EMAIL_MSG="Compruebe su direcci\u00F3n email",TEST_USER="test@billpocket.com",TEST_PASS="123",appMessages=[{code:"752",type:"error",text:"El usuario no existe"}];var LoginFormViewModel=function(){var a=this;a.username=ko.observable("");a.password=ko.observable("");a.message=ko.observable("");a.disableLoginButtonState=ko.computed(function(){var c=false,b=true;if(a.username()!==""&&a.password()!==""){c=a.emailValidation(a.username());if(c){a.message("");b=false}else{a.message(NOT_VALID_EMAIL_MSG)}}return b},this);a.emailValidation=function(b){var c=EMAIL_RGEX;if(!c.test(b)){return false}return true};a.loginAction=function(){var b={username:a.username(),password:a.password()};App.DataSource.UserDataSource.loginRequest(b,function(c){if(c.message){a.message(c.message.text)}})};a.init=function(){};a.init()};App.ViewModels.LoginFormViewModel=LoginFormViewModel;var UserModel=function(c,b){var a=this;a.username=ko.observable("username");a.password=ko.observable("password");a.init=function(){};a.init()};App.Models.UserModel=UserModel;var UserDataSource=(function(){return{loginRequest:function(c,d){var a={message:appMessages[0]},b;if(c.username===TEST_USER&&c.password===TEST_PASS){window.location.href="../../modules/transacciones"}else{b=EMAIL_RGEX;if(!b.test(c.username)){a.message.text=NOT_VALID_EMAIL_MSG}d(a)}}}}());App.DataSource.UserDataSource=UserDataSource;ko.applyBindings(new App.ViewModels.LoginFormViewModel());